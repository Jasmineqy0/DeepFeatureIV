program: main.py
command:
- python
- ${program}
- "final_configs/dfiv_spaceiv_vanilla/configs.json"
- "dfiv"
method: bayes
metric:
  goal: minimize
  name: test loss
early_terminate:
  type: hyperband
  min_iter: 4
parameters:
  n_repeat:
    value: 1
  data_configs:
    parameters:
      data_name: 
        value: spaceiv
      spaceiv_datadir: 
        value: "../spaceIV/data"
      case: 
        value: "case:vanilla"
      data_size: 
        value: 1600
      val_size: 
        value: 180
      test_size:
        value: 180
      dim_iv:
        value: 10
      dim_ts:
        value: 20
  model_configs:
    parameters:
      batch_normalization:
        distribution: categorical
        values:
          - True
          - False
      instrument_num_layer:
        distribution: int_uniform
        min: 1
        max: 5
      instrument_hidden_dim:
        distribution: int_uniform
        min: 8
        max: 128
      treatment_num_layer:
        distribution: int_uniform
        min: 1
        max: 5
      treatment_hidden_dim:
        distribution: int_uniform
        min: 8
        max: 128
  train_configs:
    parameters:
      lam1:
        distribution: uniform
        min: 0.08
        max: 0.20
      lam2:
        distribution: uniform
        min: 0.10
        max: 0.20
      stage1_iter:
        distribution: int_uniform
        min: 1
        max: 20
      covariate_iter:
        distribution: int_uniform
        min: 1
        max: 20
      stage2_iter:
        distribution: int_uniform
        min: 1
        max: 20
      n_epoch:
        distribution: int_uniform
        min: 50
        max: 150
      split_ratio:
        distribution: uniform
        min: 0.3
        max: 0.7
      lr_scheduler: 
        distribution: categorical
        values:
          - True
          - False
      treatment_lr_gamma:
        distribution: uniform
        min: 0.95
        max: 0.99
      instrumental_lr_gamma:
        distribution: uniform
        min: 0.95
        max: 0.99
      covariate_lr_gamma:
        distribution: uniform
        min: 0.95
        max: 0.99
      treatment_lr:
        distribution: uniform
        min: 0.000001
        max: 0.001
      instrumental_lr:
        distribution: uniform
        min: 0.0000001
        max: 0.001
      covariate_lr:
        distribution: uniform
        min: 0.000001
        max: 0.001
      treatment_weight_decay:
        distribution: uniform
        min: 0
        max: 0.001
      instrumental_weight_decay:
        distribution: uniform
        min: 0
        max: 0.001
      covariate_weight_decay:
        distribution: uniform
        min: 0
        max: 0.001