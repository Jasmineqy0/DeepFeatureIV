program: main.py
command:
- python
- ${program}
- "final_configs/dfiv_spaceiv_vanilla/configs.json"
- "dfiv"
method: bayes
metric:
  goal: minimize
  name: test loss
early_terminate:
  type: hyperband
  min_iter: 4
parameters:
  data_configs:
    parameters:
      data_name: 
        value: spaceiv
      spaceiv_datadir: 
        value: "../spaceIV/data"
      case: 
        value: "case:vanilla"
      data_size: 
        value: 1600
      val_size: 
        value: 180
      test_size:
        value: 180
      dim_iv:
        value: 10
      dim_ts:
        value: 20
  model_configs:
    parameters:
      batch_normalization:
        distribution: categorical
        values:
          - True
          - False
      num_layer:
        distribution: int_uniform
        min: 1
        max: 5
      hidden_dim:
        distribution: int_uniform
        min: 10
        max: 64
  train_configs:
    parameters:
      lam1:
        distribution: uniform
        min: 0.05
        max: 0.15
      lam2:
        distribution: uniform
        min: 0.10
        max: 0.20
      stage1_iter:
        distribution: int_uniform
        min: 5
        max: 10
      covariate_iter:
        distribution: int_uniform
        min: 5
        max: 10
      stage2_iter:
        distribution: int_uniform
        min: 5
        max: 10
      n_epoch:
        distribution: int_uniform
        min: 90
        max: 160
      split_ratio:
        distribution: uniform
        min: 0.4
        max: 0.6
      lr_scheduler: 
        distribution: categorical
        values:
          - True
          - False
      treatment_lr_gamma:
        distribution: uniform
        min: 0.95
        max: 0.99
      instrumental_lr_gamma:
        distribution: uniform
        min: 0.95
        max: 0.99
      covariate_lr_gamma:
        distribution: uniform
        min: 0.95
        max: 0.99
      treatment_lr:
        distribution: uniform
        min: 0.00001
        max: 0.0001
      instrumental_lr:
        distribution: uniform
        min: 0.00001
        max: 0.0001
      covariate_lr:
        distribution: uniform
        min: 0.00001
        max: 0.0001
      treatment_weight_decay:
        distribution: uniform
        min: 0
        max: 0.0000001
      instrumental_weight_decay:
        distribution: uniform
        min: 0
        max: 0.0000001
      covariate_weight_decay:
        distribution: uniform
        min: 0
        max: 0.0000001